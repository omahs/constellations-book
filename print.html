<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Constellations</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="Constellations API">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Introduction</a></li><li class="chapter-item expanded affix "><a href="endpoints.html">API Endpoints</a></li><li class="chapter-item expanded affix "><a href="pagination.html">Pagination</a></li><li class="chapter-item expanded affix "><li class="part-title">Reference Guide</li><li class="chapter-item expanded "><a href="collections/index.html"><strong aria-hidden="true">1.</strong> Collections</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="collections/get_all.html"><strong aria-hidden="true">1.1.</strong> all collections</a></li><li class="chapter-item expanded "><a href="collections/most_recent.html"><strong aria-hidden="true">1.2.</strong> most recent minted collections</a></li><li class="chapter-item expanded "><a href="collections/user_own_tokens.html"><strong aria-hidden="true">1.3.</strong> collections where an address owns at least one token</a></li><li class="chapter-item expanded "><a href="collections/created_by_addr.html"><strong aria-hidden="true">1.4.</strong> collections created by a given address</a></li></ol></li><li class="chapter-item expanded "><a href="events/index.html"><strong aria-hidden="true">2.</strong> Events</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="events/get_all.html"><strong aria-hidden="true">2.1.</strong> all events</a></li><li class="chapter-item expanded "><a href="events/burn.html"><strong aria-hidden="true">2.2.</strong> burns</a></li><li class="chapter-item expanded "><a href="events/name_mints.html"><strong aria-hidden="true">2.3.</strong> name mints</a></li><li class="chapter-item expanded "><a href="events/token_bids.html"><strong aria-hidden="true">2.4.</strong> token bids</a></li><li class="chapter-item expanded "><a href="events/collection.html"><strong aria-hidden="true">2.5.</strong> events for a given collection</a></li><li class="chapter-item expanded "><a href="events/token.html"><strong aria-hidden="true">2.6.</strong> events for a given token</a></li><li class="chapter-item expanded "><a href="events/sent_offers_for_address.html"><strong aria-hidden="true">2.7.</strong> offers sent for a given address</a></li><li class="chapter-item expanded "><a href="events/bids_for_collection_and_bidder.html"><strong aria-hidden="true">2.8.</strong> bids for a given collection and given bidder</a></li><li class="chapter-item expanded "><a href="events/received_offers_on_owned_nfts.html"><strong aria-hidden="true">2.9.</strong> received offers on owned NFT</a></li><li class="chapter-item expanded "><a href="events/sales_for_given_collection.html"><strong aria-hidden="true">2.10.</strong> sales for a given collection</a></li><li class="chapter-item expanded "><a href="events/mints_for_given_collection.html"><strong aria-hidden="true">2.11.</strong> mints for a given collection</a></li></ol></li><li class="chapter-item expanded "><a href="names/index.html"><strong aria-hidden="true">3.</strong> Names</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="names/all.html"><strong aria-hidden="true">3.1.</strong> all names</a></li><li class="chapter-item expanded "><a href="names/all_sorted_by_offer.html"><strong aria-hidden="true">3.2.</strong> all names sorted by offer</a></li><li class="chapter-item expanded "><a href="names/one.html"><strong aria-hidden="true">3.3.</strong> given name with its record</a></li><li class="chapter-item expanded "><a href="names/name_by_associated_addr.html"><strong aria-hidden="true">3.4.</strong> name associated to a given address</a></li></ol></li><li class="chapter-item expanded "><a href="tokens/index.html"><strong aria-hidden="true">4.</strong> Tokens</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="tokens/owner.html"><strong aria-hidden="true">4.1.</strong> tokens for a given owner</a></li><li class="chapter-item expanded "><a href="tokens/collection.html"><strong aria-hidden="true">4.2.</strong> tokens for a given collection</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="misc/contributors.html">Contributors</a></li><li class="chapter-item expanded affix "><a href="changelog.html">Changelog</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Constellations</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p><strong>Constellations</strong> is a high-performance and real-time indexer developed by
<a href="https://pen.so">Fabien Penso</a> for <a href="https://www.stargaze.zone">Stargaze</a>, a L1
blockchain on Cosmos focusing on NFTs. Constellations is currently used by
Stargaze for its main website to display data in the fastest way possible, and
we decided to make its API available to anyone.</p>
<p>Constellations is:</p>
<ol>
<li>
<p>A public facing website available at
<a href="https://www.constellations.zone">www.constellations.zone</a> to view its data
This is mostly used to &quot;validate&quot; internal information, and you are invited
to use the <a href="https://www.stargaze.zone">Stargaze main website</a> instead,
unless you're looking for information not available there.</p>
</li>
<li>
<p>A set of API to fetch data Constellations has indexed. This API is available
over GraphQL and self-generated GraphQL documentation is enabled.</p>
</li>
</ol>
<p>You should already know about GraphQL to use Constellations. You can read more
about GraphQL <a href="https://graphql.org">here</a>.</p>
<h2 id="how-is-it-built"><a class="header" href="#how-is-it-built">How is it built?</a></h2>
<p>Constellations is built entirely in Rust with
<a href="https://github.com/informalsystems/tendermint-rs">tendermint-rs</a>, backed with
Posgresql and hosted on bare metal servers for optimum performance. It fetches
blocks live from the blockchain over websockets, and parse them instantly. It 
currently is running on 3 servers:</p>
<ol>
<li><a href="https://www.dedibox.fr/">Dedibox</a>: Xeon E3 1245v5, 32GB</li>
<li><a href="https://www.hetzner.com/">Hetzner</a>: AMD Ryzen 3600, 64GB</li>
<li><a href="https://my.interserver.net/">Interserver</a>: AMD RYZEN 5600X, 64GB</li>
</ol>
<p>It ran fine on a single server, but we wanted to have redondancy to avoid
downtimes.</p>
<h2 id="safety"><a class="header" href="#safety">Safety</a></h2>
<p>While I try to minimize bugs and issues, Constellations sometimes (but rarily)
stops indexing, or has an indexing issue which means it does not reflect the 
blockchain data. It is <em>highly</em> recommended to use Stargaze RPC servers to verify
information if you are moving tokens. For example, if you want to send STARS to
a given Stargaze name, you should use the RPC server to get the STARS address
associated with that given name, and not Constellations which could lead to
sending STARS to an old associated address if the indexer stopped.</p>
<h2 id="timestamps"><a class="header" href="#timestamps">Timestamps</a></h2>
<p>All timestamps you get are UTC and don't include timezone.</p>
<h2 id="user-agent"><a class="header" href="#user-agent">User Agent</a></h2>
<p>Add a way to contact you in the <code>User-Agent</code> header in case I need to get in
touch with you if you are making too many requests.</p>
<h2 id="contributing-to-this-documentation"><a class="header" href="#contributing-to-this-documentation">Contributing to this documentation</a></h2>
<p>This documentation is available on
<a href="https://github.com/penso/constellations-book">GitHub</a> and issues and feature requests
can be posted on the <a href="https://github.com/penso/constellations-book/issues">GitHub issue
tracker</a>. Please consider opening a
<a href="https://github.com/penso/constellations-book/pulls">pull request</a>.</p>
<h2 id="license"><a class="header" href="#license">License</a></h2>
<p>The Constellations documentation are released under
the <a href="https://www.mozilla.org/MPL/2.0/">Mozilla Public License v2.0</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="api-endpoints"><a class="header" href="#api-endpoints">API Endpoints</a></h1>
<p>There are 2 available GraphQL endpoints.</p>
<h2 id="mainnet"><a class="header" href="#mainnet">Mainnet</a></h2>
<p><a href="https://api.mainnet.stargaze.constellations.zone/graphql">https://api.mainnet.stargaze.constellations.zone/graphql</a></p>
<h2 id="testnet"><a class="header" href="#testnet">Testnet</a></h2>
<p><a href="https://api.testnet.stargaze.constellations.zone/graphql">https://api.testnet.stargaze.constellations.zone/graphql</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pagination"><a class="header" href="#pagination">Pagination</a></h1>
<p>Endpoints use <a href="https://www.apollographql.com/docs/react/pagination/overview">both
types</a>
pagination. When data isn't changing often, it uses
<a href="https://www.apollographql.com/docs/react/pagination/offset-based">offset-based</a>
pagination, when data is changing rapidly it uses
<a href="https://www.apollographql.com/docs/react/pagination/cursor-based">cursor-based</a>
pagination.</p>
<p>The following is using offset pagination:</p>
<ul>
<li>collections</li>
<li>names</li>
<li>tokens</li>
</ul>
<p>The following is using cursor pagination:</p>
<ul>
<li>events</li>
<li>sales</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="collections"><a class="header" href="#collections">Collections</a></h1>
<p>Query</p>
<pre><code class="language-graphql">query Collections($limit: Int, $sortBy: CollectionSortBy, $offset: Int, $tokenOwnerAddr: String, $creatorAddr: String) {
  collections(limit: $limit, sortBy: $sortBy, offset: $offset, tokenOwnerAddr: $tokenOwnerAddr, creatorAddr: $creatorAddr) {
    collections {
      image
      description
      tokensCount
      website
      createdAt
      collectionAddr
      name
      mintedAt
    }
    limit
    offset
    total
  }
}
</code></pre>
<p>Variables</p>
<pre><code class="language-json">{
  &quot;limit&quot;: 2,
  &quot;sortBy&quot;: null,
  &quot;offset&quot;: null,
  &quot;tokenOwnerAddr&quot;: null,
  &quot;creatorAddr&quot;: null
}
</code></pre>
<h2 id="available-sorting"><a class="header" href="#available-sorting">Available sorting</a></h2>
<ul>
<li>TOKENS_COUNT_ASC: Sort by the smallest amount of tokens</li>
<li>TOKENS_COUNT_DESC: Sort by the highest amounf of tokens</li>
<li>MINTED_AT_ASC: Sort by the least recent minted collection time</li>
<li>MINTED_AT_DESC: Sort by the most recent minted collection time</li>
<li>VOLUME_24H_DESC: Sort by the past 24H sales volumes</li>
<li>VOLUME_7D_DESC: Sort by the past 7 days sales volumes</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="get-all-collections"><a class="header" href="#get-all-collections">get all collections</a></h1>
<p>GraphQL will have all internal attribute documentation.</p>
<pre><code>query Collections {
  collections {
    collections {
      name
      mintedAt
    }
  }
}
</code></pre>
<pre><code>curl 'https://api.mainnet.stargaze.constellations.zone/graphql' \
	-H 'Accept-Encoding: gzip, deflate, br' \
	-H 'Content-Type: application/json' \
	-H 'Accept: application/json' \
	-H 'Connection: keep-alive' \
	--compressed \
	--data-binary '{&quot;query&quot;:&quot;query Collections { collections { collections { name mintedAt } } }&quot;}'
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="get-most-recent-minted-collections"><a class="header" href="#get-most-recent-minted-collections">get most recent minted collections</a></h1>
<p>Query</p>
<pre><code class="language-graphql">query Collections($collectionsLimit: Int, $sortBy: CollectionSortBy) {
  collections(limit: $collectionsLimit, sortBy: $sortBy) {
    collections {
      image
      description
      tokensCount
      website
      createdAt
      collectionAddr
      name
      mintedAt
    }
  }
}
</code></pre>
<p>Variables</p>
<pre><code>{
  &quot;collectionsLimit&quot;: 2,
  &quot;sortBy&quot;: &quot;MINTED_AT_DESC&quot;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="list-collections-where-an-addr-owns-at-least-one-token"><a class="header" href="#list-collections-where-an-addr-owns-at-least-one-token">list collections where an addr owns at least one token</a></h1>
<pre><code>query Collections {
  collections(tokenOwnerAddr: &quot;stars1mtu407haz7g9s4hazdh8mtw94x3v52uaj8xx8c&quot;) {
    collections {
      name
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="list-collections-created-by-a-given-address"><a class="header" href="#list-collections-created-by-a-given-address">list collections created by a given address</a></h1>
<pre><code>query Collections {
  collections(creatorAddr: &quot;stars1err5c2tc8ha6qa42tpvedgk585dpj35576ny29&quot;) {
    collections {
      name
      mintedAt
      createdByAddr
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="events"><a class="header" href="#events">Events</a></h1>
<p>Events contains all blockchain cosmwasm events, mints, airdrops, sales. You
have to know what events you're looking for, or what contract types. Unless
they're very noisy and useless, all cosmwasm events are saved.</p>
<p>If you are publishing a new contract, using events and attributes is the best
way to ensure this will be indexed by Constellations.</p>
<p>For example, the following get all events related to the <code>pegasus</code> contract,
order by block height DESC (most recent event first):</p>
<pre><code>query Events {
  events(
    contractFilters: [{ contractType: &quot;crates.io:pegasus&quot;, events: [] }]
    sortBy: BLOCK_HEIGHT_DESC
  ) {
    edges {
      node {
        eventName
        action
        data
        createdAt
      }
    }
  }
}
</code></pre>
<p>Or another example for <code>badge-hub</code> contracts:</p>
<pre><code>query Events {
  events(
    contractFilters: [{ contractType: &quot;crates.io:badge-hub&quot;, events: [] }]
    sortBy: BLOCK_HEIGHT_DESC
  ) {
    edges {
      node {
        eventName
        action
        data
        createdAt
      }
    }
  }
}
</code></pre>
<p>This will show all <code>wasm-fair-burn</code> for the <code>badge-hub</code> contract:</p>
<pre><code>query Events {
  events(
    contractFilters: [
      {
        contractType: &quot;crates.io:badge-hub&quot;
        events: [{ name: &quot;wasm-fair-burn&quot; }]
      }
    ]
    sortBy: BLOCK_HEIGHT_DESC
  ) {
    edges {
      node {
        eventName
        action
        data
        createdAt
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="get-all-events"><a class="header" href="#get-all-events">get all events</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="get-all-burns"><a class="header" href="#get-all-burns">get all burns</a></h1>
<p>This will get all burns for both the <code>sg-721</code> contracts, it will not include
other contracts like imago contracts. You have to add contracts specifically if
you want others.</p>
<pre><code>query Burns($filters: [ContractFilter!], $dataFilters: [DataFilter!]) {
  events(contractFilters: $filters, dataFilters: $dataFilters) {
    edges {
      node {
        contractType
        data
        createdAt
      }
    }
  }
}
</code></pre>
<pre><code>{
  &quot;filters&quot;: [
    {
      &quot;contractType&quot;: &quot;crates.io:sg-721&quot;,
      &quot;events&quot;: [
        {
          &quot;name&quot;: &quot;wasm&quot;,
          &quot;action&quot;: &quot;burn&quot;
        }
      ]
    },
    {
      &quot;contractType&quot;: &quot;crates.io:sg721-base&quot;,
      &quot;events&quot;: [
        {
          &quot;name&quot;: &quot;wasm&quot;,
          &quot;action&quot;: &quot;burn&quot;
        }
      ]
    }
  ],
  &quot;dataFilters&quot;: []
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="name-mints"><a class="header" href="#name-mints">name mints</a></h1>
<pre><code>query NameMints {
  events(
    contractFilters: [
      {
        contractType: &quot;crates.io:name-minter&quot;
        events: [{ name: &quot;wasm-mint-and-list&quot;, action: null }]
      }
    ]
  ) {
    edges {
      node {
        data
        createdAt
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="token-bids"><a class="header" href="#token-bids">token bids</a></h1>
<pre><code>query Bids($filters: [ContractFilter!], $dataFilters: [DataFilter!]) {
  events(contractFilters: $filters, dataFilters: $dataFilters) {
    edges {
      node {
        data
      }
    }
  }
}
</code></pre>
<pre><code>{
  &quot;filters&quot;: [
    {
      &quot;contractType&quot;: &quot;crates.io:sg-marketplace&quot;,
      &quot;events&quot;: [
        {
          &quot;name&quot;: &quot;wasm-set-bid&quot;,
          &quot;action&quot;: null
        }
      ]
    }
  ],
  &quot;dataFilters&quot;: []
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="all-events-for-a-given-collection"><a class="header" href="#all-events-for-a-given-collection">all events for a given collection</a></h1>
<pre><code>query EventsForCollection($data_filters: [DataFilter!]) {
  events(dataFilters: $data_filters) {
    edges {
      node {
        contractType
        eventName
        action
        data
        createdAt
      }
    }
  }
}
</code></pre>
<pre><code>{
  &quot;dataFilters&quot;: [
    {
      &quot;name&quot;: &quot;collection&quot;,
      &quot;value&quot;: &quot;stars18d7ver7mmjdt06mz6x0pz09862060kupju75kpka5j0r7huearcsq0gyg0&quot;,
      &quot;operator&quot;: &quot;EQUAL&quot;
    }
  ]
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="all-events-for-a-given-token"><a class="header" href="#all-events-for-a-given-token">all events for a given token</a></h1>
<pre><code>query EventsForTokenId {
  events(
    filter: TOKEN_METADATAS
    forToken: {
      collectionAddr: &quot;stars1ery3ph276meayswezstaulm4vekzz9u825ppf8gx6cxjteplvrrqt33m8k&quot;
      tokenId: &quot;127&quot;
    }
  ) {
    edges {
      node {
        contractType
        eventName
        action
        data
        createdAt
        blockHeight
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="all-offers-sent-for-a-given-address"><a class="header" href="#all-offers-sent-for-a-given-address">all offers sent for a given address</a></h1>
<pre><code>query SentOffersForGivenAddress {
  events(
    filter: SENT_NAME_OFFERS
    forAddresses: [&quot;stars10l56qdud5g6qt3pzywy65urm9cle0mx7aur6zd&quot;]
  ) {
    edges {
      node {
        contractType
        eventName
        action
        data
        createdAt
        blockHeight
        isValid
        expired
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bids-for-a-given-collection-and-given-bidder"><a class="header" href="#bids-for-a-given-collection-and-given-bidder">bids for a given collection and given bidder</a></h1>
<pre><code>query BidsForGivenBidder {
  events(
    dataFilters: [
      {
        name: &quot;bidder&quot;
        value: &quot;stars1rmxl4fps24pe8s9uv8an3nqpng3ggyf8sfavr0&quot;
        operator: EQUAL
      }
      {
        name: &quot;collection&quot;
        value: &quot;stars19jq6mj84cnt9p7sagjxqf8hxtczwc8wlpuwe4sh62w45aheseues57n420&quot;
        operator: EQUAL
      }
    ]
    contractFilters: [
      {
        contractType: &quot;crates.io:sg-marketplace&quot;
        events: [{ name: &quot;wasm-set-bid&quot;, action: null }]
      }
    ]
    sortBy: BLOCK_HEIGHT_DESC
  ) {
    edges {
      node {
        txHash
        action
        contractInfo
        createdAt
        isValid
        eventName
        action
        data
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="received-offers-on-owned-nft"><a class="header" href="#received-offers-on-owned-nft">received offers on owned NFT</a></h1>
<pre><code>query receivedOffersOnOwnedNfts {
  events(
    filter: RECEIVED_OFFERS_ON_OWNED_NFT
    forAddresses: [&quot;stars15y38ehvexp6275ptmm4jj3qdds379nk07tw95r&quot;]
    isValid: true
  ) {
    edges {
      node {
        eventName
        data
        isValid
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sales-for-a-given-collection"><a class="header" href="#sales-for-a-given-collection">sales for a given collection</a></h1>
<pre><code>query Mints {
  events(
    filter: SALES
    dataFilters: [
      {
        name: &quot;collection&quot;
        value: &quot;stars1ewpdt2s5t2ktkyzsv3rhe88yeyxpjrfvqg209rac5pn46gffr75qvt8rq3&quot;
        operator: EQUAL
      }
    ]
    sortBy: BLOCK_HEIGHT_DESC
  ) {
    edges {
      node {
        eventName
        action
        createdAt
        data
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mints-for-a-given-collection"><a class="header" href="#mints-for-a-given-collection">mints for a given collection</a></h1>
<pre><code>
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="names"><a class="header" href="#names">Names</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="all-names"><a class="header" href="#all-names">all names</a></h1>
<pre><code>query Names {
  names {
    limit
    offset
    total
    names {
      name
      mintedAt
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="all-names-sorted-by-offer"><a class="header" href="#all-names-sorted-by-offer">all names sorted by offer</a></h1>
<pre><code>query Names {
  names(sortBy: OFFERS_DESC) {
    limit
    offset
    total
    names {
      highestOffer
      highestOfferEvent {
        data
      }
      name
      mintedAt
      contractAddr
      ownerAddr
      associatedAddr
      records {
        recordName
        recordValue
        verified
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="name-with-its-record"><a class="header" href="#name-with-its-record">name with its record</a></h1>
<pre><code>query Name {
  name(name: &quot;sex&quot;) {
    highestOfferEvent {
      data
    }
    highestOffer
    name
    mintedAt
    contractAddr
    ownerAddr
    associatedAddr
    records {
      recordName
      recordValue
      verified
    }
  }
}
</code></pre>
<pre><code>query Name {
  name(name: &quot;penso&quot;) {
    highestOfferEvent {
      data
    }
    highestOffer
    name
    mintedAt
    contractAddr
    ownerAddr
    associatedAddr
    records {
      recordName
      recordValue
      verified
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="name-associated-to-a-given-address"><a class="header" href="#name-associated-to-a-given-address">name associated to a given address</a></h1>
<pre><code>query Name {
  names(associatedAddr: &quot;stars1mtu407haz7g9s4hazdh8mtw94x3v52uaj8xx8c&quot;) {
    names {
      name
      mintedAt
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tokens"><a class="header" href="#tokens">Tokens</a></h1>
<h2 id="all-attributes-for-all-tokens-for-a-given-collection"><a class="header" href="#all-attributes-for-all-tokens-for-a-given-collection">All attributes for all tokens for a given collection</a></h2>
<pre><code>query Tokens {
  tokens(
    filterByCollectionAddrs: [
      &quot;stars1g4ucjvrcpwwxrrtmnnrprwkvtnud43294k3mrvtnlpdk2uza7hxseqr58k&quot;
    ]
  ) {
    tokens {
      collectionAddr
      tokenId
      mintedAt
      ownerAddr
      name
      description
      forSale
      imageUrl
      rarityOrder
      rarityScore
      price {
        amount
      }
      priceExpiresAt
      saleType
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tokens-for-a-given-owner"><a class="header" href="#tokens-for-a-given-owner">tokens for a given owner</a></h1>
<pre><code>query Tokens {
  tokens(
    ownerAddr: &quot;stars1mtu407haz7g9s4hazdh8mtw94x3v52uaj8xx8c&quot;
  ) {
    tokens {
      collectionAddr
      tokenId
      name
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tokens-for-a-given-collection"><a class="header" href="#tokens-for-a-given-collection">tokens for a given collection</a></h1>
<pre><code>query Tokens {
  tokens(filterByCollectionAddrs: [&quot;stars1g4ucjvrcpwwxrrtmnnrprwkvtnud43294k3mrvtnlpdk2uza7hxseqr58k&quot;]) {
    tokens {
      collectionAddr
      tokenId
      name
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contributors"><a class="header" href="#contributors">Contributors</a></h1>
<ul>
<li><a href="https://pen.so">Fabien Penso</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changelog"><a class="header" href="#changelog">Changelog</a></h1>
<p>v0.0.1: Initial version of the documentation</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
